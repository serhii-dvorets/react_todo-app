{"version":3,"sources":["components/TodoList.jsx","components/TodosFilter.jsx","components/TodoApp.jsx","localStorage.jsx","App.jsx","index.js"],"names":["TodoList","todoList","onCompleted","onRemove","onUpdate","useState","editingId","setEditingId","updatedTitle","setUpdatedTitle","handleChange","e","key","className","map","todo","classNames","completed","editing","id","onDoubleClick","onBlur","type","checked","onChange","title","onClick","value","target","onKeyDown","TodosFilter","onFilter","href","TodoApp","inputText","setInputText","initialValue","window","item","localStorage","getItem","JSON","parse","error","storedValue","setStoredValue","useEffect","setItem","stringify","useLocalStorageState","setTodoList","allTodosCompleted","setAllTodosCompleted","filterType","setFilterType","unCompletedTodos","filter","onSubmit","preventDefault","Date","placeholder","length","completedTodos","toggleAll","htmlFor","todos","filteredTodos","completedTodoId","status","find","updatedTodoList","removedTodoId","newTodos","newValue","todoToUpdateId","updatedTodos","newType","onlyInCompletedTodos","clearCompleted","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eca68405.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport classNames from 'classnames';\n\nexport const TodoList = ({\n  todoList,\n  onCompleted,\n  onRemove,\n  onUpdate,\n}) => {\n  const [editingId, setEditingId] = useState();\n  const [updatedTitle, setUpdatedTitle] = useState('');\n\n  const handleChange = (e) => {\n    if (e.key === 'Enter') {\n      onUpdate(updatedTitle, editingId);\n      setEditingId(-1);\n    }\n\n    if (e.key === 'Escape') {\n      setEditingId(-1);\n    }\n  };\n\n  return (\n    <ul className=\"todo-list\">\n      {todoList.map(todo => (\n        <li\n          key={todo.id}\n          className={classNames(\n            { completed: todo.completed },\n            { editing: editingId === todo.id },\n          )}\n          onDoubleClick={() => {\n            setEditingId(todo.id);\n          }}\n          onBlur={() => {\n            onUpdate(updatedTitle, editingId);\n            setEditingId(-1);\n          }}\n        >\n          <div className=\"view\">\n            <input\n              type=\"checkbox\"\n              className=\"toggle\"\n              checked={todo.completed}\n              onChange={() => {\n                onCompleted(todo.id);\n              }}\n            />\n            <label>\n              {todo.title}\n            </label>\n            <button\n              type=\"button\"\n              className=\"destroy\"\n              onClick={() => {\n                onRemove(todo.id);\n              }}\n            />\n          </div>\n          <input\n            type=\"text\"\n            className=\"edit\"\n            value={updatedTitle || todo.title}\n            onChange={(e) => {\n              setUpdatedTitle(e.target.value);\n            }}\n            onKeyDown={handleChange}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React from 'react';\n\nexport const TodosFilter = ({ onFilter }) => (\n  <ul className=\"filters\">\n    <li>\n      <a\n        href=\"#/\"\n        className=\"selected\"\n        onClick={() => {\n          onFilter('all');\n        }}\n      >\n        All\n      </a>\n    </li>\n\n    <li>\n      <a\n        href=\"#/active\"\n        onClick={() => {\n          onFilter('active');\n        }}\n      >\n        Active\n      </a>\n    </li>\n\n    <li>\n      <a\n        href=\"#/completed\"\n        onClick={() => {\n          onFilter('completed');\n        }}\n      >\n        Completed\n      </a>\n    </li>\n  </ul>\n);\n","import React, { useState } from 'react';\nimport { TodoList } from './TodoList';\nimport { TodosFilter } from './TodosFilter';\nimport { useLocalStorageState } from '../localStorage';\n\nexport const TodoApp = () => {\n  const [inputText, setInputText] = useState('');\n  const [todoList, setTodoList] = useLocalStorageState('todoList', []);\n  const [allTodosCompleted, setAllTodosCompleted] = useState(false);\n  const [filterType, setFilterType] = useState('all');\n\n  const unCompletedTodos = todoList.filter(todo => !todo.completed);\n\n  const toggleAll = () => {\n    const completedTodos = todoList.map(todo => ({\n      ...todo, completed: !allTodosCompleted,\n    }));\n\n    setTodoList(completedTodos);\n    setAllTodosCompleted(!allTodosCompleted);\n  };\n\n  const addTodo = (e) => {\n    e.preventDefault();\n    if (inputText) {\n      const todo = {\n        id: +new Date(),\n        title: inputText,\n        completed: false,\n      };\n\n      setTodoList([...todoList, todo]);\n      setInputText('');\n    }\n  };\n\n  const updateTodo = (newValue, todoToUpdateId) => {\n    if (!newValue) {\n      return;\n    }\n\n    const updatedTodos = todoList.map((todo) => {\n      if (todo.id !== todoToUpdateId) {\n        return todo;\n      }\n\n      return {\n        ...todo,\n        title: newValue,\n      };\n    });\n\n    setTodoList(updatedTodos);\n  };\n\n  const toggleCompleted = (completedTodoId) => {\n    const todoToChange = todoList.find(todo => todo.id === completedTodoId);\n    const status = todoToChange.completed;\n\n    const updatedTodoList = todoList.map((todo) => {\n      if (todo.id !== completedTodoId) {\n        return todo;\n      }\n\n      return {\n        ...todo,\n        completed: !status,\n      };\n    });\n\n    setTodoList(updatedTodoList);\n  };\n\n  const removeTodo = (removedTodoId) => {\n    const newTodos = todoList.filter(todo => todo.id !== removedTodoId);\n\n    setTodoList(newTodos);\n  };\n\n  const filteredTodos = (type) => {\n    let todos;\n\n    switch (type) {\n      case 'all':\n        todos = [...todoList];\n        break;\n      case 'active':\n        todos = [...todoList].filter(todo => !todo.completed);\n        break;\n      case 'completed':\n        todos = [...todoList].filter(todo => todo.completed);\n        break;\n\n      default:\n        break;\n    }\n\n    return todos;\n  };\n\n  const setFilter = (newType) => {\n    setFilterType(newType);\n  };\n\n  const clearCompleted = () => {\n    const onlyInCompletedTodos = todoList.filter(todo => !todo.completed);\n\n    setTodoList(onlyInCompletedTodos);\n  };\n\n  return (\n    <>\n      <header className=\"header\">\n        <h1>todos</h1>\n\n        <form\n          onSubmit={addTodo}\n        >\n          <input\n            type=\"text\"\n            value={inputText}\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            onChange={(e) => {\n              setInputText(e.target.value);\n            }}\n          />\n        </form>\n      </header>\n\n      {todoList.length > 0 && (\n        <>\n          <section className=\"main\">\n            <input\n              type=\"checkbox\"\n              checked={unCompletedTodos.length === 0}\n              id=\"toggle-all\"\n              className=\"toggle-all\"\n              onClick={() => {\n                toggleAll();\n              }}\n            />\n            <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n          </section>\n          <TodoList\n            todoList={filteredTodos(filterType)}\n            onCompleted={toggleCompleted}\n            onRemove={removeTodo}\n            onUpdate={updateTodo}\n          />\n          <footer className=\"footer\">\n            {unCompletedTodos.length === 1 ? (\n              <span className=\"todo-count\">\n                {unCompletedTodos.length}\n                &nbsp;item left\n              </span>\n            ) : (\n              <span className=\"todo-count\">\n                {unCompletedTodos.length}\n                &nbsp;items left\n              </span>\n            )}\n\n            <TodosFilter onFilter={setFilter} />\n\n            <button\n              type=\"button\"\n              className=\"clear-completed\"\n              onClick={() => {\n                clearCompleted();\n              }}\n            >\n              Clear completed\n            </button>\n          </footer>\n        </>\n      )}\n    </>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const useLocalStorageState = (key, initialValue) => {\n  const [storedValue, setStoredValue] = useState(() => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n\n    try {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      return initialValue;\n    }\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(storedValue));\n  }, [storedValue]);\n\n  return [storedValue, setStoredValue];\n};\n","import React from 'react';\nimport { TodoApp } from './components/TodoApp';\n\nfunction App() {\n  return (\n    <section className=\"todoapp\">\n      <TodoApp />\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}